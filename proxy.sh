#!/bin/bash

# Colors for better display
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
WHITE='\033[1;37m'
NC='\033[0m' # No Color

clear

# S2codetaem Logo vÃ  giá»›i thiá»‡u
echo -e "${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${CYAN}â•‘${WHITE}                                                                               ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}     ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${YELLOW}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}       ${GREEN}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${BLUE}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${PURPLE}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}  ${CYAN}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}     ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}    ${RED}â–ˆâ–ˆ${WHITE}    ${YELLOW}â–ˆâ–ˆ${WHITE}              ${GREEN}â–ˆâ–ˆ${WHITE}     ${BLUE}â–ˆâ–ˆ${WHITE}     ${PURPLE}â–ˆâ–ˆ${WHITE}  ${CYAN}â–ˆâ–ˆ${WHITE}       ${RED}â–ˆâ–ˆ${WHITE}      ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}    ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${YELLOW}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}            ${GREEN}â–ˆâ–ˆ${WHITE}     ${BLUE}â–ˆâ–ˆ${WHITE}     ${PURPLE}â–ˆâ–ˆ${WHITE}  ${CYAN}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}     ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}          ${YELLOW}â–ˆâ–ˆ${WHITE}              ${GREEN}â–ˆâ–ˆ${WHITE}     ${BLUE}â–ˆâ–ˆ${WHITE}     ${PURPLE}â–ˆâ–ˆ${WHITE}  ${CYAN}â–ˆâ–ˆ${WHITE}            ${RED}â–ˆâ–ˆ${WHITE} ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}    ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${YELLOW}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}        ${GREEN}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${BLUE}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${PURPLE}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}  ${CYAN}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}     ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}                                                                               ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}    â–„${RED}â–„${WHITE}â–„â–„â–„â–„  ${YELLOW}â–„${GREEN}â–„${WHITE}â–„â–„â–„â–„      ${BLUE}â–„${PURPLE}â–„${WHITE}â–„â–„â–„â–„  ${CYAN}â–„${RED}â–„${WHITE}â–„â–„â–„â–„  ${YELLOW}â–„${GREEN}â–„${WHITE}â–„â–„â–„â–„  ${BLUE}â–„${PURPLE}â–„${WHITE}â–„â–„â–„â–„    ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}   ${RED}â–ˆâ–ˆ${WHITE}â–€â–€â–€â–€   ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆ${WHITE}â–€â–€â–€â–€     ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆ${WHITE}â–€â–€â–€â–€  ${CYAN}â–ˆâ–ˆ${RED}â–ˆ${WHITE}â–€â–€â–€â–€  ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆ${WHITE}â–€â–€â–€â–€  ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆ${WHITE}â–€â–€â–€â–€   ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}   ${RED}â–ˆâ–ˆâ–ˆâ–ˆ${WHITE}â–„â–„   ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆâ–ˆ${WHITE}â–„â–„â–„      ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆâ–ˆ${WHITE}â–„â–„â–„  ${CYAN}â–ˆâ–ˆ${RED}â–ˆâ–ˆ${WHITE}â–„â–„â–„  ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆâ–ˆ${WHITE}â–„â–„â–„  ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆâ–ˆ${WHITE}â–„â–„â–„   ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}      ${RED}â–ˆâ–ˆâ–ˆ${WHITE}  ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆâ–ˆâ–ˆ${WHITE}       ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆâ–ˆâ–ˆ${WHITE}    ${CYAN}â–ˆâ–ˆ${RED}â–ˆâ–ˆâ–ˆ${WHITE}    ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆâ–ˆâ–ˆ${WHITE}    ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆâ–ˆâ–ˆ${WHITE}    ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}   ${RED}â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ${WHITE}  ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆâ–ˆâ–ˆâ–ˆ${WHITE}â–„â–„â–„   ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆâ–ˆâ–ˆâ–ˆ${WHITE}â–„â–„ ${CYAN}â–ˆâ–ˆ${RED}â–ˆâ–ˆâ–ˆâ–ˆ${WHITE}â–„â–„ ${YELLOW}â–ˆâ–ˆ${GREEN}â–ˆâ–ˆâ–ˆâ–ˆ${WHITE}â–„â–„ ${BLUE}â–ˆâ–ˆ${PURPLE}â–ˆâ–ˆâ–ˆâ–ˆ${WHITE}â–„â–„  ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}                                                                               ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}                     âš¡${YELLOW} S2CODE TEAM ${RED}â˜… ${BLUE}PROXY INSTALLER ${WHITE}âš¡                      ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}                   ${GREEN}ğŸš€ Premium Tools & Services Provider ğŸš€                  ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•‘${WHITE}                                                                               ${CYAN}â•‘${NC}"
echo -e "${CYAN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

# ThÃ´ng tin nhÃ  phÃ¡t triá»ƒn
echo -e "${GREEN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${GREEN}â•‘${WHITE}                              THÃ”NG TIN NHÃ€ PHÃT TRIá»‚N                        ${GREEN}â•‘${NC}"
echo -e "${GREEN}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ‘¨â€ğŸ’» NhÃ  phÃ¡t triá»ƒn: ${WHITE}Táº  NGá»ŒC LONG                                           ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸŒ ChuyÃªn cung cáº¥p tÃ i khoáº£n Google Cloud sá»‘ lÆ°á»£ng lá»›n                     ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ® ChuyÃªn cung cáº¥p cÃ¡c máº·t hÃ ng MMO                                        ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ”— ChuyÃªn cung cáº¥p tÃ i nguyÃªn Proxy, tÃ i khoáº£n cÃ¡c loáº¡i                    ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ’» Nháº­n táº¡o Tools, táº¡o Web, code pháº§n má»m theo nhu cáº§u                     ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

# ThÃ´ng tin liÃªn há»‡
echo -e "${BLUE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${BLUE}â•‘${WHITE}                                LIÃŠN Há»†                                      ${BLUE}â•‘${NC}"
echo -e "${BLUE}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${NC}"
echo -e "${BLUE}â•‘${CYAN} ğŸ“˜ Facebook 1: ${WHITE}https://www.facebook.com/s2code08122000/                  ${BLUE}â•‘${NC}"
echo -e "${BLUE}â•‘${CYAN} ğŸ“˜ Facebook 2: ${WHITE}https://www.facebook.com/tangoclongmeta                   ${BLUE}â•‘${NC}"
echo -e "${BLUE}â•‘${CYAN} ğŸ“± Telegram:   ${WHITE}https://t.me/S2codetaem48                                ${BLUE}â•‘${NC}"
echo -e "${BLUE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

echo -e "${PURPLE}ğŸš€ Báº¯t Ä‘áº§u cÃ i Ä‘áº·t Proxy Server...${NC}"
echo ""
sleep 2

# HÃ m kiá»ƒm tra IP
check_ip_status() {
    local ip=$1
    echo -e "${YELLOW}ğŸ” Äang kiá»ƒm tra tráº¡ng thÃ¡i IP...${NC}"
    if ping -c 3 $ip > /dev/null 2>&1; then
        return 0
    else
        return 1
    fi
}

# HÃ m láº¥y thÃ´ng tin IP
get_ip_info() {
    local ip=$1
    echo -e "${CYAN}ğŸ“¡ Äang láº¥y thÃ´ng tin IP...${NC}"
    ip_info=$(curl -s "http://ip-api.com/json/$ip")
    echo "$ip_info"
}

# HÃ m kiá»ƒm tra tá»‘c Ä‘á»™ máº¡ng
check_network_speed() {
    echo -e "${CYAN}âš¡ Äang kiá»ƒm tra tá»‘c Ä‘á»™ máº¡ng...${NC}"
    speed_test=$(curl -s -w "%{speed_download}" -o /dev/null http://speedtest.ftp.otenet.gr/files/test1Mb.db)
    speed_mbps=$(echo "scale=2; $speed_test / 1024 / 1024 * 8" | bc 2>/dev/null || echo "N/A")
    echo "$speed_mbps"
}

# HÃ m kiá»ƒm tra há»— trá»£ protocols
check_proxy_protocols() {
    local ip=$1
    local port=$2
    local user=$3
    local pass=$4
    
    echo -e "${CYAN}ğŸ”§ Äang kiá»ƒm tra protocols há»— trá»£...${NC}"
    
    # Test HTTP
    http_test=$(curl -s -o /dev/null -w "%{http_code}" --proxy http://$user:$pass@$ip:$port http://httpbin.org/ip --connect-timeout 10)
    
    # Test SOCKS5
    socks5_test=$(curl -s -o /dev/null -w "%{http_code}" --socks5 $user:$pass@$ip:$port http://httpbin.org/ip --connect-timeout 10)
    
    protocols=""
    if [ "$http_test" = "200" ]; then
        protocols="HTTP âœ…"
    else
        protocols="HTTP âŒ"
    fi
    
    if [ "$socks5_test" = "200" ]; then
        protocols="$protocols, SOCKS5 âœ…"
    else
        protocols="$protocols, SOCKS5 âŒ"
    fi
    
    echo "$protocols"
}

# Menu Ä‘Äƒng nháº­p
echo -e "${GREEN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${GREEN}â•‘${WHITE}                              CHá»ŒN LOáº I ÄÄ‚NG NHáº¬P                              ${GREEN}â•‘${NC}"
echo -e "${GREEN}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${NC}"
echo -e "${GREEN}â•‘${YELLOW} [1] ğŸ‘¤ ÄÄƒng nháº­p bÃ¬nh thÆ°á»ng (Chá»‰ hiá»ƒn thá»‹ IP cÆ¡ báº£n)                      ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} [2] ğŸ’ ÄÄƒng nháº­p VIP (Äáº§y Ä‘á»§ tÃ­nh nÄƒng check IP, tá»‘c Ä‘á»™, protocols)      ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

read -p "â¤ Chá»n loáº¡i Ä‘Äƒng nháº­p (1/2): " login_type

if [ "$login_type" = "1" ]; then
    # ÄÄƒng nháº­p bÃ¬nh thÆ°á»ng
    echo -e "${CYAN}ğŸ‘¤ ÄÄ‚NG NHáº¬P BÃŒNH THÆ¯á»œNG${NC}"
    read -p "â¤ Nháº­p tÃªn Ä‘Äƒng nháº­p: " username
    read -p "â¤ Nháº­p máº­t kháº©u: " password
    
    if [ "$username" = "tangoclong" ] && [ "$password" = "6969" ]; then
        echo -e "${GREEN}âœ… ÄÄƒng nháº­p thÃ nh cÃ´ng!${NC}"
        echo -e "${YELLOW}ğŸ”„ Cháº¿ Ä‘á»™ thá»§ cÃ´ng - Táº¡o proxy bá»n vá»¯ng...${NC}"
        
        # Cáº­p nháº­t há»‡ thá»‘ng
        echo "[1/7] â¤ Äang cáº­p nháº­t há»‡ thá»‘ng..."
        sudo apt update && sudo apt upgrade -y
        
        # CÃ i gÃ³i cáº§n thiáº¿t
        echo "[2/7] â¤ Äang cÃ i Squid + Apache2-utils..."
        sudo apt install -y squid apache2-utils vim curl bc
        
        # Há»i port proxy
        read -p "[3/7] â¤ Nháº­p cá»•ng proxy báº¡n muá»‘n dÃ¹ng (vÃ­ dá»¥ 6969): " proxy_port
        
        # Gá»¡ file cáº¥u hÃ¬nh cÅ©
        echo "[4/7] â¤ Gá»¡ cáº¥u hÃ¬nh cÅ© cá»§a Squid..."
        sudo rm -f /etc/squid/squid.conf
        
        # Táº¡o cáº¥u hÃ¬nh má»›i
        echo "[5/7] â¤ Táº¡o file cáº¥u hÃ¬nh má»›i cho Squid..."
        cat <<EOF | sudo tee /etc/squid/squid.conf > /dev/null
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords
auth_param basic realm proxy
acl authenticated proxy_auth REQUIRED
http_access allow authenticated
http_port $proxy_port
EOF
        
        # Táº¡o tÃ i khoáº£n proxy
        read -p "[6/7] â¤ Nháº­p tÃªn ngÆ°á»i dÃ¹ng proxy muá»‘n táº¡o: " squid_user
        read -p "[6/7] â¤ Nháº­p máº­t kháº©u cho '$squid_user': " squid_pass
        echo "$squid_pass" | sudo htpasswd -c -i /etc/squid/passwords "$squid_user"
        
        # Khá»Ÿi Ä‘á»™ng láº¡i Squid
        echo "[7/7] â¤ Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Squid..."
        sudo systemctl restart squid
        
        # Láº¥y IP 
        ip_address=$(curl -s ipinfo.io/ip)
        
        echo -e "${GREEN}âœ… CÃ i Ä‘áº·t thÃ nh cÃ´ng!${NC}"
        echo -e "${CYAN}ğŸŒ Proxy: ${WHITE}http://$squid_user:$squid_pass@$ip_address:$proxy_port${NC}"
        echo -e "${CYAN}ğŸ“ IP: ${WHITE}$ip_address${NC}"
        
    else
        echo -e "${RED}âŒ Sai tÃªn Ä‘Äƒng nháº­p hoáº·c máº­t kháº©u!${NC}"
        exit 1
    fi
    
elif [ "$login_type" = "2" ]; then
    # ÄÄƒng nháº­p VIP
    echo -e "${PURPLE}ğŸ’ ÄÄ‚NG NHáº¬P VIP${NC}"
    read -p "â¤ Nháº­p mÃ£ VIP: " vip_code
    
    if [ "$vip_code" = "So1234@@" ]; then
        echo -e "${GREEN}âœ… ÄÄƒng nháº­p VIP thÃ nh cÃ´ng!${NC}"
        echo -e "${PURPLE}ğŸš€ Cháº¿ Ä‘á»™ VIP - Tá»± Ä‘á»™ng cÃ i Ä‘áº·t nhanh...${NC}"
        
        # Tá»± Ä‘á»™ng cÃ i Ä‘áº·t VIP
        proxy_port="6969"
        squid_user="tangoclong"
        squid_pass="2000"
        
        # Cáº­p nháº­t há»‡ thá»‘ng
        echo "[1/5] â¤ Äang cáº­p nháº­t há»‡ thá»‘ng..."
        sudo apt update && sudo apt upgrade -y
        
        # CÃ i gÃ³i cáº§n thiáº¿t
        echo "[2/5] â¤ Äang cÃ i Squid + Apache2-utils..."
        sudo apt install -y squid apache2-utils vim curl bc
        
        # Gá»¡ file cáº¥u hÃ¬nh cÅ©
        echo "[3/5] â¤ Gá»¡ cáº¥u hÃ¬nh cÅ© cá»§a Squid..."
        sudo rm -f /etc/squid/squid.conf
        
        # Táº¡o cáº¥u hÃ¬nh má»›i
        echo "[4/5] â¤ Táº¡o file cáº¥u hÃ¬nh VIP cho Squid..."
        cat <<EOF | sudo tee /etc/squid/squid.conf > /dev/null
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords
auth_param basic realm proxy
acl authenticated proxy_auth REQUIRED
http_access allow authenticated
http_port $proxy_port
EOF
        
        # Táº¡o tÃ i khoáº£n proxy VIP
        echo "[5/5] â¤ Táº¡o tÃ i khoáº£n VIP..."
        echo "$squid_pass" | sudo htpasswd -c -i /etc/squid/passwords "$squid_user"
        
        # Khá»Ÿi Ä‘á»™ng láº¡i Squid
        echo "[5/5] â¤ Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Squid..."
        sudo systemctl restart squid
        
        # Láº¥y IP vÃ  kiá»ƒm tra
        ip_address=$(curl -s ipinfo.io/ip)
        
        if check_ip_status $ip_address; then
            echo -e "${GREEN}âœ… CÃ i Ä‘áº·t VIP thÃ nh cÃ´ng!${NC}"
            
            # Láº¥y thÃ´ng tin IP
            ip_info=$(get_ip_info $ip_address)
            isp=$(echo $ip_info | grep -o '"isp":"[^"]*"' | cut -d'"' -f4)
            country=$(echo $ip_info | grep -o '"country":"[^"]*"' | cut -d'"' -f4)
            
            # Kiá»ƒm tra tá»‘c Ä‘á»™
            speed=$(check_network_speed)
            
            # Kiá»ƒm tra protocols
            protocols=$(check_proxy_protocols $ip_address $proxy_port $squid_user $squid_pass)
            
            echo -e "${PURPLE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
            echo -e "${PURPLE}â•‘${WHITE}                             THÃ”NG TIN PROXY VIP                              ${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${NC}"
            echo -e "${PURPLE}â•‘${CYAN} ğŸŒ Proxy URL: ${WHITE}http://tangoclong:2000@$ip_address:6969${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â•‘${CYAN} ğŸ“ Äá»‹a chá»‰ IP: ${WHITE}$ip_address${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â•‘${CYAN} ğŸ¢ NhÃ  máº¡ng: ${WHITE}$isp${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â•‘${CYAN} ğŸŒ Quá»‘c gia: ${WHITE}$country${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â•‘${CYAN} âš¡ Tá»‘c Ä‘á»™ máº¡ng: ${WHITE}${speed} Mbps${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â•‘${CYAN} ğŸ”§ Protocols: ${WHITE}$protocols${PURPLE}â•‘${NC}"
            echo -e "${PURPLE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
        else
            echo -e "${RED}âŒ IP lá»—i - KhÃ´ng thá»ƒ káº¿t ná»‘i!${NC}"
        fi
        
    else
        echo -e "${RED}âŒ MÃ£ VIP khÃ´ng Ä‘Ãºng!${NC}"
        exit 1
    fi
    
else
    echo -e "${RED}âŒ Lá»±a chá»n khÃ´ng há»£p lá»‡!${NC}"
    exit 1
fi

# Hiá»ƒn thá»‹ thÃ´ng tin liÃªn há»‡ cuá»‘i
echo ""
echo -e "${GREEN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${GREEN}â•‘${WHITE}                              THÃ”NG TIN NHÃ€ PHÃT TRIá»‚N                        ${GREEN}â•‘${NC}"
echo -e "${GREEN}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ‘¨â€ğŸ’» NhÃ  phÃ¡t triá»ƒn: ${WHITE}Táº  NGá»ŒC LONG                                           ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸŒ ChuyÃªn cung cáº¥p tÃ i khoáº£n Google Cloud sá»‘ lÆ°á»£ng lá»›n                     ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ® ChuyÃªn cung cáº¥p cÃ¡c máº·t hÃ ng MMO                                        ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ”— ChuyÃªn cung cáº¥p tÃ i nguyÃªn Proxy, tÃ i khoáº£n cÃ¡c loáº¡i                    ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•‘${YELLOW} ğŸ’» Nháº­n táº¡o Tools, táº¡o Web, code pháº§n má»m theo nhu cáº§u                     ${GREEN}â•‘${NC}"
echo -e "${GREEN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

echo -e "${BLUE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${BLUE}â•‘${WHITE}                                LIÃŠN Há»†                                      ${BLUE}â•‘${NC}"
echo -e "${BLUE}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${NC}"
echo -e "${BLUE}â•‘${CYAN} ğŸ“˜ Facebook 1: ${WHITE}https://www.facebook.com/s2code08122000/                  ${BLUE}â•‘${NC}"
echo -e "${BLUE}â•‘${CYAN} ğŸ“˜ Facebook 2: ${WHITE}https://www.facebook.com/tangoclongmeta                   ${BLUE}â•‘${NC}"
echo -e "${BLUE}â•‘${CYAN} ğŸ“± Telegram:   ${WHITE}https://t.me/S2codetaem48                                ${BLUE}â•‘${NC}"
echo -e "${BLUE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

echo -e "${CYAN}ğŸ‰ Cáº£m Æ¡n báº¡n Ä‘Ã£ sá»­ dá»¥ng dá»‹ch vá»¥ cá»§a S2CODE TEAM! ğŸ‰${NC}"
echo -e "${YELLOW}ğŸ’¡ Náº¿u cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡ qua cÃ¡c kÃªnh trÃªn! ğŸ’¡${NC}"
